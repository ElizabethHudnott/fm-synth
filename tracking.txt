* Support negative note delays

N Any hexadecimal digit

Note Track Fields
	Note Delay (in ticks)

	Pitch
		Note & octave: change pitch
		Empty: preserve previous pitch

	Dynamics
		00 Slur/Legato
		NN Key on with specified velocity
		-1	Rest (displayed as REST in the pitch column)

	Instrument
		00 Continue using the previously selected instrument
		NN Select a new instrument and reset volume control to maximum unless otherwise specified

	Effects

Master Control Track Fields
	Effects

P = Pitch Effects
	Portamento
		with optional speed change (or reuse previous)
	Ornamentation
		Run a table of:
			Pitch offsets expressed as scale degrees + sharp/flat
			Trigger (yes/on)
			Effect (glissando/frequency ramp/none)
			Table is stretched or compressed to fit the note length
		Can't be present in the same cell as pitch bend or arpeggio
	Pitch Bend
		Can't be present in the same cell as ornamentation or arpeggio
	Arpeggio
		optional note offsets (one or more of them, scale degrees + sharp/flat) (or reuse previous)
		Implies retrigger effect
		One pitch change per retrigger
		Randomization options
			Random order (on/off)
			Random number of repeats
				Max repeats or off
		Swing
		Can't be present in the same cell as pitch bend or ornamentation

V = Volume Effects (max 1 per cell)
	Set Volume (with optional delay)
	Fade Volume
	Volume Bend

P = Panning Effects (max 1 per cell)
	Set Panning
	Panning Bend

M = Modulation (any number of)
	LFO Rate
	LFO Shape
	LFO Sync
	Vibrato Depth
	Tremolo Depth

A = Articulation (any number of)
	Gate Length / Change Articulation
		i.e. the fraction of time notes are held for prior to release before to next note
	Retrigger note
		with a retrigger time in ticks and optional velocity change (add/subtract/multiple)
		ignores line boundaries if successive rows contain a retrigger effect with the same retrigger time
		reuses previous pitch if a new one is not specified

Other Standard Effects
	Set ticks per line

Sample Effects
	New Note Action (cut or continue) (samples only)
	Sample Offset
	Sample Fine-Tune
	Reverse
	Funk Loop

Other Note Effects
	Set scale (for transposing, arpeggios)
	Operator Modulation Depth Bend (effectively a custom envelope)
	Feedback
	Fill?

Macros
	Operator ratio

Master Control Effects
	Dynamic range compression
	Pattern Delay (extra time for effects to run, whole repeats + extra ticks)
	Set Tempo (absolute or relative +/- or relative multiple or reciprocal of multiple)
	Loop Start
	Loop End

Not an effect but the pattern list data includes
	random velocity changes
	time stretching
	transposition
	crescendo/decrescendo
	direction (forward/reverse/forward then back/back then forward/random)
	...?

Song Structure
	Chains
	Multiple phrases per track of each pattern, with one chosen during playback based on
		External variables (horizontal resequencing)
			Switches at the beginning of the next bar
		Randomization
			E.g. play phrase A, D or E
			Re-randomize each time the phrase loops (on/off)
		Empty phrase can also be an option (vertical re-orchestration)
			Option to fade in, fade out, both or neither when going to / from the empty phrase?

Implementation Details
	Turn sound off (dampen) when simultaneously changing instrument and keying on

ProTracker notes
	Nested loops using different columns

Instrument Editor
	Option to disable transposing (for percussion)

Editing
	Transpose needs to take the musical scale into account?
	MOD 2 sample

Ideas from Stave Notation
	Named sections

Defaults
								Triplet
					Total						Each
 1/2	8 lines	16 lines	= 96 ticks	32 ticks		S + L6.T2 + L11.T4
 1/4	4 lines	8 lines	= 48 ticks	16 ticks		S + L3.T4 + L6.T2
 1/8	2 lines	4 lines	= 24 ticks	 8 ticks		S + L2.T2 + L3.T4
1/16	1 lines	2 lines	= 12 ticks	 4 ticks		S +    T4 + L2.T2
1/32	3 ticks	1 line	=  6 ticks	 2 ticks		S +    T4 +    T4
